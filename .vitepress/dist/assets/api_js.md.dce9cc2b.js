import{_ as s,o as a,c as n,O as l}from"./chunks/framework.bdcb0ee1.js";const u=JSON.parse('{"title":"Javascript API Documentation","description":"","frontmatter":{},"headers":[],"relativePath":"api/js.md","filePath":"api/js.md","lastUpdated":1737191097000}'),o={name:"api/js.md"},e=l(`<h1 id="javascript-api-documentation" tabindex="-1">Javascript API Documentation <a class="header-anchor" href="#javascript-api-documentation" aria-label="Permalink to &quot;Javascript API Documentation&quot;">​</a></h1><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>ForumSpark provides several frontend APIs to enhance your forum&#39;s client-side functionality. These APIs enable access to user data, custom profile widgets, and UI components, allowing developers to create rich, interactive forum experiences.</p><h2 id="current-user-data" tabindex="-1">Current User Data <a class="header-anchor" href="#current-user-data" aria-label="Permalink to &quot;Current User Data&quot;">​</a></h2><p>User data is accessible through the global <code>ForumSpark</code> object in the browser window. The current authenticated user&#39;s information can be accessed via <code>ForumSpark.currentUser</code>, which includes:</p><ul><li>User&#39;s name</li><li>Username</li><li>Other user details</li><li><code>frontend_secret</code> - a unique identifier for secure frontend-to-backend communication</li></ul><p>The <code>frontend_secret</code> is a special property that can be used to validate user actions in your backend endpoints. This secret is only exposed through the frontend API and should be validated against the user API when processing requests. For security purposes, always verify this secret server-side when handling user actions.</p><h2 id="mini-profile-widgets" tabindex="-1">Mini Profile Widgets <a class="header-anchor" href="#mini-profile-widgets" aria-label="Permalink to &quot;Mini Profile Widgets&quot;">​</a></h2><p>ForumSpark allows registration of custom widgets that appear in user profiles. These widgets can be registered using <code>window.ForumSpark.registerMiniProfileWidget()</code> and support various interactive features including state management, modals, and tooltips.</p><h3 id="widget-registration" tabindex="-1">Widget Registration <a class="header-anchor" href="#widget-registration" aria-label="Permalink to &quot;Widget Registration&quot;">​</a></h3><p>The registration function accepts an object with the following properties:</p><ul><li><code>name</code>: A unique identifier for your widget (required)</li><li><code>state</code>: A function that returns an Alpine.js state object (optional)</li><li><code>render</code>: A function that returns the widget&#39;s HTML markup (required)</li></ul><h3 id="widget-types-and-examples" tabindex="-1">Widget Types and Examples <a class="header-anchor" href="#widget-types-and-examples" aria-label="Permalink to &quot;Widget Types and Examples&quot;">​</a></h3><h4 id="stateful-widget" tabindex="-1">Stateful Widget <a class="header-anchor" href="#stateful-widget" aria-label="Permalink to &quot;Stateful Widget&quot;">​</a></h4><p>This example demonstrates a widget with persistent state using Alpine.js:</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">forumspark:init</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">window</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">ForumSpark</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">registerMiniProfileWidget</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    name</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">counter</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">state</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">user</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      loading</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      counter</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Alpine</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">$persist</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">as</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">counter-</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">user</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">username</span><span style="color:#89DDFF;">}\`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      init</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">setTimeout</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">loading</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">2000</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">      increment</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">counter</span><span style="color:#89DDFF;">++;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#C792EA;">get</span><span style="color:#F07178;"> label</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">Pressed: </span><span style="color:#89DDFF;">\${</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">counter</span><span style="color:#89DDFF;">}\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">render</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">user</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">store</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">&lt;div&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">        &lt;button</span></span>
<span class="line"><span style="color:#C3E88D;">            type=&quot;button&quot;</span></span>
<span class="line"><span style="color:#C3E88D;">            x-show=&quot;!</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">store</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">.loading&quot;</span></span>
<span class="line"><span style="color:#C3E88D;">            @click=&quot;</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">store</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">.increment()&quot;</span></span>
<span class="line"><span style="color:#C3E88D;">            x-text=&quot;</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">store</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">.label&quot;</span></span>
<span class="line"><span style="color:#C3E88D;">            class=&quot;btn-primary btn btn-sm&quot;</span></span>
<span class="line"><span style="color:#C3E88D;">        &gt;&lt;/button&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">        &lt;span x-show=&quot;</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">store</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">.loading&quot;&gt;Loading..&lt;/span&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">    &lt;/div&gt;</span><span style="color:#89DDFF;">\`</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h4 id="modal-widget" tabindex="-1">Modal Widget <a class="header-anchor" href="#modal-widget" aria-label="Permalink to &quot;Modal Widget&quot;">​</a></h4><p>ForumSpark provides a custom modal web component (<code>fs-modal</code>) that can be used in your widgets:</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">forumspark:init</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">window</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">ForumSpark</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">registerMiniProfileWidget</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    name</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">modal</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">render</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">user</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#C3E88D;">        &lt;div x-data=&quot;{</span></span>
<span class="line"><span style="color:#C3E88D;">            show: false,</span></span>
<span class="line"><span style="color:#C3E88D;">            title: &#39;bound in alpine&#39;</span></span>
<span class="line"><span style="color:#C3E88D;">        }&quot;&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">            &lt;button class=&quot;btn btn-sm btn-secondary&quot; type=&quot;button&quot; @click=&quot;() =&gt; show = true&quot;&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">                Modal Example</span></span>
<span class="line"><span style="color:#C3E88D;">            &lt;/button&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">            &lt;fs-modal @close=&quot;show = false&quot; :show=&quot;show&quot; :title=&quot;title&quot;&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">                &lt;p&gt;This is some content in my web component modal. </span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">user</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">username</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">&lt;/p&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">                &lt;p x-text=&quot;title&quot;&gt;&lt;/p&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">            &lt;/fs-modal&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">        &lt;/div&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">    </span><span style="color:#89DDFF;">\`</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h4 id="interactive-tooltip-widget" tabindex="-1">Interactive Tooltip Widget <a class="header-anchor" href="#interactive-tooltip-widget" aria-label="Permalink to &quot;Interactive Tooltip Widget&quot;">​</a></h4><p>Widgets can incorporate tooltips with rich content and interactions:</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">forumspark:init</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">window</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">ForumSpark</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">registerMiniProfileWidget</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    name</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">tooltip</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">render</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">user</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#C3E88D;">        &lt;div x-data x-tooltip=&quot;{</span></span>
<span class="line"><span style="color:#C3E88D;">            allowHTML: true,</span></span>
<span class="line"><span style="color:#C3E88D;">            content: () =&gt; $refs.content.innerHTML,</span></span>
<span class="line"><span style="color:#C3E88D;">            trigger: &#39;click&#39;,</span></span>
<span class="line"><span style="color:#C3E88D;">            interactive: true,</span></span>
<span class="line"><span style="color:#C3E88D;">            theme: &#39;light-border&#39;,</span></span>
<span class="line"><span style="color:#C3E88D;">            animation: &#39;scale&#39;,</span></span>
<span class="line"><span style="color:#C3E88D;">        }&quot;&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">            &lt;button type=&quot;button&quot; class=&quot;cursor-pointer text-sm&quot;&gt;Send a gift&lt;/button&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">            &lt;template x-ref=&quot;content&quot;&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">                &lt;div class=&quot;grid grid-cols-5 gap-2&quot;&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">                    &lt;div class=&quot;bg-gray-50 text-2xl p-2 rounded flex justify-center items-center&quot;&gt;🎂&lt;/div&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">                    &lt;div class=&quot;bg-gray-50 text-2xl p-2 rounded flex justify-center items-center&quot;&gt;🚀&lt;/div&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">                    &lt;div class=&quot;bg-gray-50 text-2xl p-2 rounded flex justify-center items-center&quot;&gt;🎈&lt;/div&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">                    &lt;div class=&quot;bg-gray-50 text-2xl p-2 rounded flex justify-center items-center&quot;&gt;👑&lt;/div&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">                    &lt;div class=&quot;bg-gray-50 text-2xl p-2 rounded flex justify-center items-center&quot;&gt;💍&lt;/div&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">                &lt;/div&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">            &lt;/template&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">        &lt;/div&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">    </span><span style="color:#89DDFF;">\`</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h2 id="best-practices" tabindex="-1">Best Practices <a class="header-anchor" href="#best-practices" aria-label="Permalink to &quot;Best Practices&quot;">​</a></h2><p>When implementing frontend widgets:</p><ol><li>Always use the provided <code>store</code> parameter when referencing state in your render function</li><li>Implement loading states for asynchronous operations</li><li>Use Alpine.js&#39;s <code>$persist</code> feature for maintaining state across page loads</li><li>Validate any user actions server-side using the <code>frontend_secret</code></li><li>Follow proper security practices when handling user data</li><li>Use the provided UI components (like <code>fs-modal</code>) for consistent user experience</li></ol><p>The ForumSpark frontend API is designed to work seamlessly with Alpine.js, providing a robust foundation for building interactive forum features.</p>`,26),t=[e];function p(r,c,i,y,F,D){return a(),n("div",null,t)}const C=s(o,[["render",p]]);export{u as __pageData,C as default};
